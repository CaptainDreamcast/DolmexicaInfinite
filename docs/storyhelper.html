<!--?xml version="1.0" encoding="utf-8" ?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docutils 0.7: http://docutils.sourceforge.net/">
<title>Story Helper Reference</title>
<style type="text/css">

/*
Dolmexica Infinite documentation stylesheet based on the original M.U.G.E.N documentation.


Modified from voidspace.css.

:Authors: Ian Bicking, Michael Foord
:Contact: fuzzyman@voidspace.org.uk
:Date: 2005/08/26 
:Version: 0.1.0
:Copyright: This stylesheet has been placed in the public domain.

Stylesheet for Docutils.
Based on ``blue_box.css`` by Ian Bicking
and ``html4css1.css`` revision 1.46.
*/

@import url(html4css1.css);

body {
  font-family: Helvetica, Arial, sans-serif;
}

em, i {
  font-family: Times New Roman, Times, serif;
}

a {
  color: #5577EE;
  text-decoration: none;
}

a.reference.internal {
  font-size: 80%;
}

a.toc-backref {
  color: black;
  text-decoration: none;
}

a.toc-backref:hover {
  background-color: inherit;
}

a:hover {
  background-color: #cccccc;
  text-decoration: none;
}

a img {
  border: none;
}

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning {
  background-color: #cccccc;
  padding: 3px;
  width: 80%;
}

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title  {
  text-align: center;
  background-color: #999999;
  display: block;
  margin: 0;
}

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: #cc0000;
  font-family: sans-serif;
  text-align: center;
  background-color: #999999;
  display: block;
  margin: 0;
}

h1, h2, h3, h4, h5, h6 {
  font-family: Verdana, Helvetica, Arial, sans-serif;
  border: thin solid black;
  /* This makes the borders rounded on Mozilla, which pleases me */
  -moz-border-radius: 8px;
  padding: 4px;
}

h1 {
  background-color: #445BAA;
  color: #ffffff;
  border: medium solid black;
}

h1 a.toc-backref, h2 a.toc-backref { 
  color: #ffffff;
}

h2 {
  background-color: #667788;
  color: #ffffff;
  border: thin solid black;
}

h3, h4, h5, h6 {
  background-color: #cccccc;
  color: #000000;
}

h3 a.toc-backref, h4 a.toc-backref, h5 a.toc-backref, 
h6 a.toc-backref { 
  color: #000000;
}

h1.title {
  text-align: center;
  background-color: #445BAA;
  color: #eeeeee;
  border: thick solid black;
  -moz-border-radius: 20px;
}

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

table.footnote {
  padding-left: 0.5ex;
}

table.citation {
  padding-left: 0.5ex
}

pre.literal-block, pre.doctest-block {
  border: thin black solid;
  padding: 5px;
}

.image img { border-style : solid;
            border-width : 2px;
}

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100%;
}

code, tt {
  color: #000066;
  font-size: 120%;
}

</style>
</head>
<body>
<div class="document" id="story-helper-reference">
<h1 class="title">Story Helper Reference</h1>

<p>Dolmexica Infinite, presented by Dogma 2018-2023</p>
<p>Documentation for release version (2023)</p>
<p>Updated 30 June 2023</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#about-story-helpers" id="id1">About story helpers</a></li>
<li><a class="reference internal" href="#story-helpers-storymode" id="id2">Story helpers in story mode</a></li>
<li><a class="reference internal" href="#story-helpers-stages" id="id3">Story helpers in stages</a></li>
<li><a class="reference internal" href="#story-helper-triggers" id="id4">Story helper triggers</a>
<ul class="simple">
<li><a class="reference internal" href="#storystateno" id="id5">StoryStateNo</a></li>
<li><a class="reference internal" href="#storytime" id="id6">StoryTime</a></li>
</ul>
</li>
<li><a class="reference internal" href="#story-helper-state-controllers" id="id7">Story helper state controllers</a></li>
</ul>
</div>
<div class="section" id="about-story-helpers">
<h1><a class="toc-backref" href="#id1">About story helpers</a></h1>
<p>Story helpers are state machines that can run in parallel to player state machines. Their controllers are the same as regular player controllers, but they have an additional parameter, <tt class="docutils literal">override.target</tt>, which can be either p1 or p2 to target player 1 or player 2 respectively.</p>
<p>In addition to the regular player controllers, some story controllers are also available. These do not use the <tt class="docutils literal">override.target</tt> parameter. A list of story controllers available for story helpers is available below.</p>
<p>The special thing about story helper triggers is that both <tt class="docutils literal">time</tt> and <tt class="docutils literal">stateno</tt> are not available, instead there are two new triggers called <tt class="docutils literal">storytime</tt> and <tt class="docutils literal">storystateno</tt> which fulfill the same purpose for story helpers. Player variables can be accessed with p1, or p2, prefixes respectively, like with regular player state machines.</p>
</div>
<div class="section" id="story-helpers-storymode">
<h1><a class="toc-backref" href="#id2">Story helpers in story mode</a></h1>
<p>In order to use story helpers in a storymode fight, use the <tt class="docutils literal">storymode</tt> parameter. This will override the story mode helper set in the stage, if there is any.</p>
</div>
<div class="section" id="story-helpers-stages">
<h1><a class="toc-backref" href="#id3">Story helpers in stages</a></h1>
<p>In order to add a storyhelper to a stage, use the <tt class="docutils literal">story</tt> parameter in the BGdef group. This path can be either relative to the dolmexica root or to the stage.</p>
</div>
<div class="section" id="story-helper-triggers">
<h1><a class="toc-backref" href="#id4">Story helper triggers</a></h1>
<p>In order to use player triggers, use p1, and p2, to change to a player context and use triggers as you would in regular fights. Please note that neither <tt class="docutils literal">time</tt> nor <tt class="docutils literal">stateno</tt> work with story helpers, and have to be replaced with <tt class="docutils literal">storytime</tt> and <tt class="docutils literal">storystateno</tt> respectively. The following triggers are added for story helpers:</p>
<div class="section" id="storystateno">
<h2><a class="toc-backref" href="#id5">StoryStateNo</a></h2>
<p>Return state number of story helper.</p>
<dl class="docutils">
<dt>Format:</dt>
<dd>StoryStateNo</dd>
<dt>Arguments:</dt>
<dd>none</dd>
<dt>Return type:</dt>
<dd>int</dd>
<dt>Error conditions:</dt>
<dd>none</dd>
</dl>
<p>Example:</p>
<pre class="literal-block">
trigger1 = StoryStateNo = 10
  Triggers if story helper is in state 10.
</pre>
</div>
<div class="section" id="storytime">
<h2><a class="toc-backref" href="#id6">StoryTime</a></h2>
<p>Return time passed since current state was entered.</p>
<dl class="docutils">
<dt>Format:</dt>
<dd>StoryTime</dd>
<dt>Arguments:</dt>
<dd>none</dd>
<dt>Return type:</dt>
<dd>int</dd>
<dt>Error conditions:</dt>
<dd>none</dd>
</dl>
<p>Example:</p>
<pre class="literal-block">
trigger1 = StoryTime % 10 = 0
  Triggers on every 10th tick in a state.
</pre>
</div>
</div>
<div class="section" id="story-helper-state-controllers">
<h1><a class="toc-backref" href="#id7">Story helper state controllers</a></h1>
<p>All player state controllers can be used, the only difference is that the <tt class="docutils literal">override.target parameter</tt> has to be set to either to p1 or p2. In addition to that, the following story state controllers can be used (see <a href="storysctrls.html"><b>Story state controller reference</b></a> for documentation on those.)</p>
<ul class="simple">
<li><b>CreateText</b></li>
<li><b>RemoveText</b></li>
<li><b>ChangeText</b></li>
<li><b>TextPosSet</b></li>
<li><b>TextPosAdd</b></li>
</ul>
</div>
</div>
</body></html>